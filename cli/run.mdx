---
title: "vulcn run"
seo:
  title: "vulcn run ‚Äî Execute Security Tests with Payload Injection"
  description: "Run automated penetration tests on recorded sessions. Inject XSS, SQLi, and other security payloads into every input field and generate detailed security reports."
description: "Run security tests on a recorded session with payload injection and report generation"
---

## Usage

```bash
vulcn run <session> [options]
```

## Arguments

| Argument  | Description                      | Required |
| --------- | -------------------------------- | -------- |
| `session` | Session file to run (.vulcn.yml) | Yes      |

## Options

| Option                      | Description                                    | Default     |
| --------------------------- | ---------------------------------------------- | ----------- |
| `-p, --payload <names...>`  | Payloads to use (e.g., xss-basic, sqli-basic)  | `xss-basic` |
| `-f, --payload-file <file>` | Load custom payloads from YAML/JSON file       | -           |
| `-b, --browser <browser>`   | Browser to use (chromium, firefox, webkit)     | `chromium`  |
| `--headless`                | Run in headless mode                           | `true`      |
| `--no-headless`             | Run with visible browser                       | -           |
| `-r, --report <format>`     | Generate report: `html`, `json`, `yaml`, `all` | -           |
| `--report-output <dir>`     | Output directory for reports                   | `.`         |

## Description

The `run` command replays a recorded session while injecting security payloads into every input field. It uses configured detection plugins to identify vulnerabilities and can generate detailed security reports.

## Examples

### Default Run

```bash
vulcn run session.vulcn.yml
```

Runs with `xss-basic` payloads and the default `@vulcn/plugin-detect-xss` detection.

### Multiple Payload Sets

```bash
vulcn run session.vulcn.yml --payload xss-basic sqli-basic ssrf-basic
```

### Use PayloadBox Community Payloads

```bash
vulcn run session.vulcn.yml --payload payloadbox:xss payloadbox:sql-injection
```

### Custom Payload File

```bash
vulcn run session.vulcn.yml --payload-file ./my-payloads.yml
```

Custom payload file format:

```yaml
# my-payloads.yml
version: "1"
payloads:
  - name: custom-xss
    category: xss
    description: My custom XSS payloads
    payloads:
      - "<script>alert('custom')</script>"
      - "<img src=x onerror=alert('custom')>"
```

### Visible Browser

```bash
vulcn run session.vulcn.yml --no-headless
```

Watch the browser as tests run. Useful for debugging.

### Different Browser

```bash
vulcn run session.vulcn.yml --browser firefox
```

## Generating Reports

Generate security reports alongside your test run:

### HTML Report

```bash
vulcn run session.vulcn.yml --report html
```

Generates a modern, dark-themed HTML dashboard with risk gauges, severity breakdowns, and expandable finding cards. The report automatically opens in your browser.

### JSON Report (for CI/CD)

```bash
vulcn run session.vulcn.yml --report json
```

Produces a machine-readable JSON file for pipeline integration, SIEM ingestion, or custom tooling.

### All Formats

```bash
vulcn run session.vulcn.yml --report all --report-output ./reports
```

Generates HTML, JSON, and YAML reports in the specified output directory.

<Tip>
  Combine reports with PayloadBox payloads for comprehensive scans: ```bash
  vulcn run session.vulcn.yml --payload payloadbox:xss --report html ```
</Tip>

## Output

### Findings

When vulnerabilities are detected:

```bash
üîç Running security tests
   Session: Login Flow Test
   Payloads: xss-basic, sqli-basic
   Payload count: 25
   Browser: chromium
   Headless: true

‚ö†Ô∏è  FINDING: XSS Confirmed: alert() executed
   Step: step_003
   Payload: <script>alert('XSS')</script>...
   URL: https://example.com/search

üìä Results
   Steps executed: 5
   Payloads tested: 125
   Duration: 45.2s

üö® 1 findings detected!

[HIGH] XSS Confirmed: alert() executed
  Type: xss
  Step: step_003
  URL: https://example.com/search
  Payload: <script>alert('XSS')</script>
```

### No Findings

```bash
üìä Results
   Steps executed: 5
   Payloads tested: 125
   Duration: 45.2s

‚úÖ No vulnerabilities detected
```

## Exit Codes

| Code | Description                             |
| ---- | --------------------------------------- |
| `0`  | No vulnerabilities found                |
| `1`  | Vulnerabilities found or error occurred |

<Tip>
  Use the exit code in CI/CD pipelines to fail builds when vulnerabilities are
  detected: ```bash vulcn run session.vulcn.yml --report json || exit 1 ```
</Tip>

## Detection Plugins

The `run` command automatically loads the `@vulcn/plugin-detect-xss` plugin if not already configured. This plugin detects XSS by monitoring:

- **`alert()`, `confirm()`, `prompt()`** dialogs
- **Console markers** (`console.log('VULCN_XSS:...')`)

For more detection capabilities, add additional plugins:

```bash
vulcn plugin add @vulcn/plugin-detect-reflection
```

See [Plugins](/plugins/overview) for more information, or check out the [Report Plugin](/plugins/plugin-report) for report generation options.

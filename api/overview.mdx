---
title: "API Overview"
description: "Programmatic API for the Vulcn engine"
---

## Installation

```bash
npm install @vulcn/engine
```

## Architecture

The engine exposes two main systems:

- **DriverManager** - Handles recording and running via drivers
- **PluginManager** - Handles payloads and detection via plugins

<CardGroup cols={2}>
  <Card title="DriverManager" icon="car" href="/api/driver-manager">
    Manage recording and running drivers
  </Card>
  <Card title="PluginManager" icon="plug" href="/api/plugin-manager">
    Load and manage plugins
  </Card>
  <Card title="Types" icon="code" href="/api/types">
    TypeScript type definitions
  </Card>
</CardGroup>

## Quick Example

```typescript
import {
  DriverManager,
  PluginManager,
  driverManager,
  pluginManager,
} from "@vulcn/engine";
import browserDriver from "@vulcn/driver-browser";
import payloadsPlugin from "@vulcn/plugin-payloads";
import detectXss from "@vulcn/plugin-detect-xss";

// Register browser driver
driverManager.register(browserDriver);

// Set up plugins
pluginManager.addPlugin(payloadsPlugin, { builtin: true });
pluginManager.addPlugin(detectXss, { detectDialogs: true });
await pluginManager.initialize();

// Record a session
const handle = await driverManager.startRecording("browser", {
  startUrl: "https://example.com",
  browser: "chromium",
  headless: false,
});

// Wait for user to finish interacting...
const session = await handle.stop();

// Run security tests
const result = await driverManager.execute(session, pluginManager, {
  headless: true,
  onFinding: (finding) => {
    console.log(`Found: ${finding.title}`);
  },
});

console.log(`Tested ${result.payloadsTested} payloads`);
console.log(`Found ${result.findings.length} vulnerabilities`);
```

## Module Exports

### Driver System

```typescript
// Driver manager
export { DriverManager, driverManager } from "./driver-manager";
export { DRIVER_API_VERSION } from "./driver-types";

// Driver types
export type {
  VulcnDriver,
  RecorderDriver,
  RunnerDriver,
  RecordingHandle,
  Session,
  Step,
  RunContext,
  RunResult,
  LoadedDriver,
  DriverSource,
} from "./driver-types";
```

### Plugin System

```typescript
// Plugin manager
export { PluginManager, pluginManager } from "./plugin-manager";
export { PLUGIN_API_VERSION } from "./plugin-types";

// Plugin types
export type {
  VulcnPlugin,
  PluginHooks,
  PluginContext,
  RecordContext,
  DetectContext,
  LoadedPlugin,
  PluginSource,
} from "./plugin-types";
```

### Payload Types

```typescript
export type {
  RuntimePayload,
  PayloadCategory,
  PayloadSource,
  CustomPayload,
} from "./payload-types";
```

### Core Types

```typescript
export type {
  Finding,
  BrowserType,
  RecorderOptions,
  RunnerOptions,
} from "./types";
```

## Legacy Exports

<Warning>
  The following exports are deprecated and will be removed in v1.0. Import from
  `@vulcn/driver-browser` instead.
</Warning>

```typescript
// DEPRECATED - use DriverManager instead
export { Recorder } from "./recorder";
export { Runner } from "./runner";

// DEPRECATED - use Session from driver-types
export { parseSession, serializeSession } from "./session";
export type { Session as LegacySession, Step as LegacyStep } from "./session";

// DEPRECATED - use @vulcn/driver-browser
export { launchBrowser, installBrowsers, checkBrowsers } from "./browser";
```

## Error Handling

All async methods may throw:

```typescript
try {
  const result = await driverManager.execute(session, pluginManager);
} catch (error) {
  if (error.message.includes("Driver")) {
    console.error("Driver error:", error.message);
  } else if (error.message.includes("Plugin")) {
    console.error("Plugin error:", error.message);
  } else {
    throw error;
  }
}
```

## TypeScript Support

Full TypeScript support with exported types:

```typescript
import type {
  Session,
  Step,
  Finding,
  VulcnDriver,
  VulcnPlugin,
  RuntimePayload,
} from "@vulcn/engine";
```

<Card title="DriverManager API" icon="car" href="/api/driver-manager">
  Full DriverManager reference
</Card>

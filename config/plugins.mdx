---
title: "How Plugins Work"
seo:
  title: "Vulcn Plugin Architecture — How Flat Config Maps to Plugins"
  description: "Learn how Vulcn's flat .vulcn.yml configuration maps to internal plugins. No manual plugin management needed — the engine handles it automatically."
description: "How .vulcn.yml flat config maps to internal plugins"
---

## No Plugin Configuration Required

Unlike traditional plugin systems, you **don't need to configure plugins in `.vulcn.yml`**. Vulcn uses a flat configuration file and automatically maps config keys to the correct internal plugins.

```yaml
# .vulcn.yml — flat config, no plugins array
target: https://example.com

payloads:
  types:
    - xss
    - sqli

detection:
  xss:
    dialogs: true
    severity: high
  reflection:
    enabled: true
  passive: true

report:
  format: html
```

The engine reads this config and automatically:

1. Loads `@vulcn/plugin-payloads` with the `payloads.*` settings
2. Loads `@vulcn/plugin-detect-xss` with the `detection.xss.*` settings
3. Loads `@vulcn/plugin-detect-sqli` when `sqli` is in payload types
4. Loads `@vulcn/plugin-detect-reflection` when `detection.reflection.enabled` is true
5. Loads `@vulcn/plugin-passive` when `detection.passive` is true
6. Loads `@vulcn/plugin-report` when `report.format` is set

## Config → Plugin Mapping

| Config Key                  | Plugin Loaded                     | Condition                      |
| --------------------------- | --------------------------------- | ------------------------------ |
| `payloads.*`                | `@vulcn/plugin-payloads`          | Always                         |
| `detection.xss.*`           | `@vulcn/plugin-detect-xss`        | Always                         |
| `detection.reflection.*`    | `@vulcn/plugin-detect-reflection` | `detection.reflection.enabled` |
| `detection.passive`         | `@vulcn/plugin-passive`           | `detection.passive: true`      |
| `payloads.types` has `sqli` | `@vulcn/plugin-detect-sqli`       | `sqli` in types                |
| `report.format`             | `@vulcn/plugin-report`            | format is not null             |

## Plugin Loading Order

Plugins are loaded in a fixed order that ensures correct execution:

1. **Payload plugin** — provides payloads before detection begins
2. **Detection plugins** — run during scan execution (XSS, SQLi, reflection, passive)
3. **Report plugin** — runs on `onRunEnd` to receive all findings

This ordering is handled automatically by `PluginManager.loadFromConfig()`.

## Official Plugins

| Plugin                            | Description                                               |
| --------------------------------- | --------------------------------------------------------- |
| `@vulcn/plugin-payloads`          | Payload loading (curated, PayloadBox, custom files)       |
| `@vulcn/plugin-detect-xss`        | Execution-based XSS detection (dialogs, console)          |
| `@vulcn/plugin-detect-sqli`       | SQL injection detection (error, timing, diff)             |
| `@vulcn/plugin-detect-reflection` | Input reflection & output encoding detection              |
| `@vulcn/plugin-passive`           | Passive scanner — headers, cookies, info disclosure, CORS |
| `@vulcn/plugin-report`            | HTML, JSON, YAML, and SARIF security report generation    |

<Card title="Learn more about plugins" icon="plug" href="/plugins/overview">
  See the complete plugin system documentation
</Card>

## Advanced: Programmatic Plugin Usage

For programmatic usage, you can add plugins directly via the `PluginManager` API:

```typescript
import { PluginManager, parseProjectConfig } from "@vulcn/engine";
import detectXss from "@vulcn/plugin-detect-xss";

const manager = new PluginManager();

// Option 1: Load from config (recommended)
const config = parseProjectConfig({
  payloads: { types: ["xss"] },
  detection: { xss: { severity: "critical" } },
});
await manager.loadFromConfig(config);

// Option 2: Add plugins manually
manager.addPlugin(detectXss, {
  detectDialogs: true,
  severity: "critical",
});

await manager.initialize();
```

See the [PluginManager API](/api/plugin-manager) for details.

## Disabling Detection

To disable specific detection features, set them in `.vulcn.yml`:

```yaml
detection:
  xss:
    dialogs: true
    console: false # Disable console marker detection
    domMutation: false # Disable DOM mutation checks
  reflection:
    enabled: false # Disable reflection detection entirely
  passive: false # Disable passive scanning
```
